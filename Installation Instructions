Please note :
  1.	For your personal use, download from the branch : Personal-CAST-development
  2.	For professional use and deploying website on a Linux server, download from the branch : Professional-CAST-development
  3.  The master branch can be referred as an example for deployment, this is the code that is used for www.cast.iitd.ac.in
  
### Prerequisites
  * Install [Python](https://www.python.org/downloads/) 3.6.8
  * Pip is installed along with python, to check that type in cmd - `pip --verison`
  * Install Python Package Manager (pip/pip3) : (In case pip doesn't get pre-installed)
  * For Linux :
    ```
    sudo apt-get install python3-pip
    ```
    
* For Windows :
    ```
    python get-pip.py
    ```
    
* Install [virtualenv](https://gist.github.com/Geoyi/d9fab4f609e9f75941946be45000632b) :
    ```
    pip install virtualenv
    ```
* Install [git](https://git-scm.com/downloads)

### Project Installation
  1. Clone the repository - `git clone <remote-url>`
  2. Go to the project directory - `cd <cloned-repo>`
  3. Set up the environment :
      * Create virtual environment files - `virtualenv venv`
      * Activate virtual environment - `cd venv\Scripts` then type `activate`
      * Cd to previous directory - `cd../../`
  4. Install dependencies - `pip install -r requirements.txt`


###MySql Setup : (Windows)

  i.	To download MySQL installer, go to the following link http://dev.mysql.com/downloads/installer/.  There are two installer files :
  ii.	If you are connecting to the internet while installing MySQL, you can choose the online installation version  mysql-installer-web-community-<version>.exe .
  iii.	In case you want to install MySQL offline, you can download the  mysql-installer-community-<version>.exe  file.
  iv.	To install MySQL using the MySQL installer, double-click on the MySQL installer file the windows will configure the MySql installer.
  v.	A welcome screen provides several options. Choose the first option: Install MySQL Products.
  vi.	Download the latest MySQL products: MySQL installer checks and downloads the latest MySQL products including MySQL server, MySQL Workbench, etc.
  vii.	Choosing a Setup Type: there are several setup types available. Choose the Full option to install all MySQL products and features.
  viii.	 Installation Progress: MySQL Installer downloads all selected products, for this project you will need:
    a.	MySQL server
    b.	MySQL Workbench (for GUI and easy understanding, though this is not necessary if you are comfortable with command line)
    c.	Connector for NET
    d.	Connector for Python
  ix.	Complete Downloading. Click the Next button to continue.
  x.	 MySQL Server Configuration: choose Config Type and MySQL port (let default remain) and click Next button to continue.
  xi.	Choose a password for the root account and note the password and keep it securely. If you want to add a more MySQL users, you can do it in this step.
  xii.	MySQL Installer is configuring MySQL database server. Wait until it is done and click the Next button to continue.
  xiii.	After completing the setup, you can now navigate to the MySQL Workbench. In the workbench, you will see the root user, click on that and enter the password that you had saved before.
  xiv.	Now, type on the workbench : `create database groundwater` and exit the workbench
  xv. In the config.py change the ‘SQLALCHEMY_DATABASE_URI’ entry according to your password for root : 'mysql://root:your_password_here@localhost/groundwater' 
  xvi.	Go back to the opened command line and cd back to the cloned folder (CAST) by doing : `cd../../`
  xvii.	Type python3 create_database.py or py create_database.py  
   
MySql Setup : (Linux)
  i.	Follow instructions on https://www.digitalocean.com/community/tutorials/how-to-install-mysql-on-ubuntu-18-04
  ii.	After installing MySQL, follow steps xiv – xvi from the windows mysql setup for the command line in your system.

5. Make changes in some files according to your file system :
  i.	For numerical model : 
  a.	In groundwater/water.py, last function in the code(numericalModel) : 
          parent_dir = 'your_directory\\CAST'
  b.	In groundwater/NumericalModel/numericalModel.py :
          exe_name_mf = copy('your_directory\\CAST\\mf2005.exe', path)
          exe_name_mt = copy('your_directory\\CAST\\mt3dms.exe', path)

6.  Starting the server :
  i.	Lastly, inside the cloned folder (CAST), type : python3 run.py
  ii.	Wait for the code to display the ip address, then go to the browser and type on ‘http://127.0.0.1:5000/’ to access your private CAST browser
  
7. Setting up the interpreter and Pycharm environment:
  i. First, open the run.py file in pycharm.
  ii. Press 'Alt + Ctrl + S' to open Settings. There in the 'Project' tab press dropdown button and press on the Project Interpreter option.
  iii. Go to the Add interpreter by pressing the settings button at the end of 'Project Interpreter' row.
  iv. Select New environment option and set Location to the venv folder of the project. Set Base interpreter as the python.exe file inside venv\Scripts.
  v. Now go to Project Structure option in Settings (Alt + Ctrl + S). There keep the parent directory as the only content root and keep venv as excluded folder. Press Apply. Relaunch the project from pycharm. 
  



 

